(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"/ugB":function(e,t){e.exports='<bb-telemetry-chart ng-if="telemetry.showData"\n                    chart-config="telemetry.chart"\n                    reflow-chart-on="reflowChartOn()"\n                    table-config="telemetry.table"\n                    course="course()"\n                    selected-user="user()"\n                    filename-suffix="a"\n                    can-view-all-user-data="canViewAllUserData()"\n                    class="telemetry-time-series">\n  \x3c!-- Activity time-series table --\x3e\n  <div st-table="rows" st-safe-src="telemetry.table.rows" class="activity-time-series-table">\n    <table class="fs-table table table-striped">\n      <thead>\n      <tr>\n        <th id="my-activity-date-header"\n            scope="col"\n            class="telemetry-sortable"\n            st-sort="date"\n            st-skip-natural="true"\n            st-sort-default="true" >\n            <span role="button" tabindex="0">\n              <bb-translate>components.directives.telemetry.table.dateColumn</bb-translate>\n              <span id="my-activity-date-header-asc">\n                <span class="sr-only" bb-translate>components.directives.telemetry.table.ascendingOrder</span>\n              </span>\n              <span id="my-activity-date-header-desc">\n                <span class="sr-only" bb-translate>components.directives.telemetry.table.descendingOrder</span>\n              </span>\n            </span>\n        </th>\n        <th scope="col" bb-translate>components.directives.telemetry.table.classActivityColumn</th>\n        <th scope="col" bb-translate>components.directives.telemetry.table.classActivityConfidenceColumn</th>\n        <th scope="col" bb-translate>components.directives.telemetry.table.classActivityInstructor</th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr ng-repeat="row in rows">\n        <td scope="row" class="date" bb-translate translate-values="{ value: row.date }">components.directives.telemetry.table.dateValue</td>\n        <td class="activity-class">\n          <span class="round" bb-translate translate-values="{ value: row.courseValue }">components.directives.telemetry.table.activityValue</span>\n        </td>\n        <td class="delta">\n          <span class="round" bb-translate translate-values="{ min: row.intervalMin, max: row.intervalMax }">components.directives.telemetry.table.activityValueRange</span>\n        </td>\n        <td class="activity">\n          <span class="round" bb-translate translate-values="{ value: row.studentValue }">components.directives.telemetry.table.activityValue</span>\n          <span class="deviation down" ng-if="::row.belowStdDev && row.diffFromInterval >= 0.01 " bb-translate translate-values="{ diff: row.diffFromInterval }">components.directives.telemetry.table.valueBelowInterval</span>\n          <span class="deviation up" ng-if="::row.aboveStdDev && row.diffFromInterval >= 0.01 " bb-translate translate-values="{ diff: row.diffFromInterval }">components.directives.telemetry.table.valueAboveInterval</span>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class="telemetry-table-legend" ng-show="telemetry.table.hasDataOutsideInterval">\n    <div class="telemetry-table-legend-container">\n      <span class="legend-entry">\n      <span class="ci-icon above-ci-icon"></span>\n      <span class="ci-label" bb-translate>components.directives.telemetry.table.legendAboveCI</span>\n    </span>\n      <span class="legend-entry">\n      <span class="ci-icon below-ci-icon"></span>\n      <span class="ci-label" bb-translate>components.directives.telemetry.table.legendBelowCI</span>\n    </span>\n    </div>\n  </div>\n</bb-telemetry-chart>'},"1ovh":function(e,t,i){"use strict";var a=i("D57K"),n=i("nbDY"),s=i.n(n),r=i("7g5f"),l=i("/ugB"),o=function(e){function t(t,i){var a=e.call(this,t)||this;return a.templateHtml=i,a}return Object(a.__extends)(t,e),t.prototype.getTemplateHtml=function(){return this.templateHtml},t.Grades=new t("grades",r),t.Activity=new t("activity",l),t}(s.a);t.a=o},"7g5f":function(e,t){e.exports='<bb-telemetry-chart ng-if="telemetry.showData"\n                    chart-config="telemetry.chart"\n                    reflow-chart-on="reflowChartOn()"\n                    table-config="telemetry.table"\n                    course="course()"\n                    selected-user="user()"\n                    filename-suffix="g"\n                    can-view-all-user-data="canViewAllUserData()"\n                    y-axis-zoom-enabled="false"\n                    class="telemetry-time-series">\n  \x3c!-- Grade time-series table --\x3e\n  <div st-table="rows" st-safe-src="telemetry.table.rows" class="grade-time-series-table">\n    <table class="fs-table table table-striped">\n      <thead>\n      <tr>\n        <th id="my-grades-date-header"\n            scope="col"\n            class="telemetry-sortable"\n            st-sort="date"\n            st-skip-natural="true"\n            st-sort-default="true">\n            <span tabindex="0" role="button">\n              <bb-translate>components.directives.telemetry.table.dateColumn</bb-translate>\n              <span id="my-grades-date-header-asc">\n                <span class="sr-only" bb-translate>components.directives.telemetry.table.ascendingOrder</span>\n              </span>\n              <span id="my-grades-date-header-desc">\n                <span class="sr-only" bb-translate>components.directives.telemetry.table.descendingOrder</span>\n              </span>\n            </span>\n        </th>\n        <th scope="col" bb-translate>components.directives.telemetry.table.classGradeColumn</th>\n        <th scope="col" bb-translate>components.directives.telemetry.table.classGradeConfidenceColumn</th>\n        <th scope="col" bb-translate>components.directives.telemetry.table.classGradeInstructor</th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr ng-repeat="row in rows">\n        <td scope="row" class="date" bb-translate translate-values="{ value: row.date }">components.directives.telemetry.table.dateValue</td>\n        <td class="grade-class">\n          <span class="round" bb-translate translate-values="{percentage: row.courseValue}">global.percentDecimal</span>\n        </td>\n        <td class="delta">\n          <span class="round" bb-translate translate-values="{ min: row.intervalMin, max: row.intervalMax }">components.directives.telemetry.table.gradeValueRange</span>\n        </td>\n        <td class="grade">\n          <div ng-if="::row.studentValue"><bb-display-simple-pill grade="{{ row.studentValue }}"></bb-display-simple-pill></div>\n          <div ng-if="::!row.studentValue"><bb-display-simple-pill grade="--"></bb-display-simple-pill></div>\n          <span class="deviation down" ng-if="::row.belowStdDev && row.diffFromInterval >= 0.01" bb-translate translate-values="{ diff: row.diffFromInterval }">components.directives.telemetry.table.valueBelowInterval</span>\n          <span class="deviation up" ng-if="::row.aboveStdDev && row.diffFromInterval >= 0.01" bb-translate translate-values="{ diff: row.diffFromInterval }">components.directives.telemetry.table.valueAboveInterval</span>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n  <div class="telemetry-table-legend" ng-show="telemetry.table.hasDataOutsideInterval">\n    <div class="telemetry-table-legend-container">\n      <span class="legend-entry">\n      <span class="ci-icon above-ci-icon"></span>\n      <span class="ci-label" bb-translate>components.directives.telemetry.table.legendAboveCI</span>\n    </span>\n      <span class="legend-entry">\n      <span class="ci-icon below-ci-icon"></span>\n      <span class="ci-label" bb-translate>components.directives.telemetry.table.legendBelowCI</span>\n    </span>\n    </div>\n  </div>\n</bb-telemetry-chart>'},EtRF:function(e,t,i){"use strict";var a=i("D57K"),n=i("nbDY"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.DEFAULT=new t("retention-center"),t.KUDOS=new t("kudos"),t.ALERT=new t("alert-error"),t}(i.n(n).a);t.a=s},r6lH:function(e,t,i){"use strict";i.d(t,"a",(function(){return m})),i.d(t,"b",(function(){return p}));var a=i("D57K"),n=i("nsO7"),s=i("wHJ2"),r=i("jhBu"),l=i("Sa5G"),o=i("0JpG"),c=i("pjml"),d=i("wgY5"),y=i("nmzr"),u=i("+O05"),m="ultra.service.telemetry",p="telemetry",b=function(){function e(e,t,i,a,n,s,r,l,o,c,d,y,u,m,p,b,v){this.cacheFactory=e,this.$q=t,this.entitlement=i,this.bbLocalize=a,this.ActivityVsGradeModel=n,this.ContentActivityInDetailModel=s,this.CourseActivityModel=r,this.CourseGradesModel=l,this.CourseNotificationsModel=o,this.MultimediaActivityInDetailModel=c,this.MultimediaStatisticsModel=d,this.NotificationUsers=y,this.StudentActivityModel=u,this.StudentGradesModel=m,this.SufficientDataModel=p,this.TelemetryDiscussionActivityModel=b,this.TelemetryDiscussionXrayModel=v,this.SUFFICIENT_DATA_KEY="SufficientData",this.sufficientDataCache=e.createCache("sufficientTelemetryData"),this.notificationsCache=e.createCache("notifications")}return e.prototype.loadActivityVsGradeData=function(e){return this.ActivityVsGradeModel.$find(e).$allow([404]).$asPromise()},e.prototype.loadStudentGradeData=function(e,t){return this.StudentGradesModel.$find(e,t?{userId:t}:{}).$allow([404,400]).$asPromise()},e.prototype.loadCourseGradeData=function(e){return this.CourseGradesModel.$find(e).$allow([404,400]).$asPromise()},e.prototype.loadStudentActivityData=function(e,t){return this.StudentActivityModel.$find(e,t?{userId:t}:{}).$allow([400]).$asPromise()},e.prototype.loadContentActivityInDetailData=function(e,t){return this.ContentActivityInDetailModel.$collection().getContentActivityInDetail(e,t).$asPromise()},e.prototype.loadMultimediaActivityInDetailData=function(e,t){return this.MultimediaActivityInDetailModel.$collection().getMultimediaActivityInDetail(e,t).$asPromise()},e.prototype.loadMultimediaStatisticsData=function(e,t){return this.MultimediaStatisticsModel.getMultimediaStatistics(e,t).$asPromise()},e.prototype.loadCourseActivityData=function(e){return this.CourseActivityModel.$find(e).$allow([400]).$asPromise()},e.prototype.loadNotificationUsers=function(e,t,i){var a={};return t&&(a.limit=t),i&&(a.offset=i),this.NotificationUsers.$find(e,a).$asPromise().then((function(e){return n.keyBy(e.users,"userId")}))},e.prototype.loadNotifications=function(e,t,i,a){return this.getNotificationsPromise(e,t,i,a).promise},e.prototype.loadDiscussionActivityData=function(e,t,i){return i?this.TelemetryDiscussionActivityModel.getDiscussionActivityReport(e,t,i).$asPromise():this.TelemetryDiscussionActivityModel.getDiscussionActivityReport(e,t).$asPromise()},e.prototype.loadDiscussionXrayReport=function(e,t,i){return this.TelemetryDiscussionXrayModel.getDiscussionXrayReport(e,t,i).$asPromise()},e.prototype.hasSufficientActivityData=function(e){return this.getSufficientDataPromise().promise.then((function(t){return!(!t||!t.coursesWithActivity)&&n.includes(t.coursesWithActivity,e)}))},e.prototype.hasSufficientGradeData=function(e){return this.getSufficientDataPromise().promise.then((function(t){return!(!t||!t.coursesWithGrades)&&n.includes(t.coursesWithGrades,e)}))},e.prototype.canViewAllUserData=function(e){return this.entitlement.hasCourseEntitlement(l.u.ViewGrades,e)},e.prototype.formatMessageRecipients=function(e){return(e||[]).map((function(e){return e.id})).join(",")},e.prototype.determineContentSupportsActivityData=function(e){var t=this.$q.defer();return u.a.isExternalSubmissionsAssessment(e)?t.resolve(!1):this.contentSupportsActivityData(e)?this.canViewAllUserData(e.courseId).then((function(e){t.resolve(e)})).catch((function(e){t.reject(e)})):t.resolve(!1),t.promise},e.prototype.contentSupportsActivityData=function(e){return(l.g.TestLink.isEqualTo(e.contentHandler)||l.g.UltraAssignment.isEqualTo(e.contentHandler))&&e.hasGradingColumn()},e.prototype.determinePanelSref=function(e,t){var i=this,a=this.$q.defer(),n={hasGrades:this.hasSufficientGradeData(e),hasActivity:this.hasSufficientActivityData(e),canViewAllUserData:this.canViewAllUserData(e)};return this.$q.all(n).then((function(n){n.hasGrades&&n.hasActivity?n.canViewAllUserData?a.resolve(i.createPanelSref(y.TelemetryViewType.INSTRUCTOR_CLASS,e,t)):a.resolve(i.createPanelSref(y.TelemetryViewType.STUDENT_PROGRESS,e,t)):a.reject()})).catch((function(e){a.reject(e)})),a.promise},e.prototype.createPanelSref=function(e,t,i){var a='({ courseId: "'+t+'"';return i&&(a+=', notificationId: "'+i+'"'),e.toString()+(a+=" })")},e.prototype.exportFilename=function(e,t,i,a,n){var s="";e&&(s=e.courseId+"_");var r=this.bbLocalize.formatDateSync(new Date,o.ILocaleDateFormat.ISO).replace(/[^0-9]/g,""),l="";t&&i&&t.id!==i.id&&(l=t.userName+"_");var c=a?"_"+a:"",d="";return n&&(d=n.replace(/\s+/g,"_")+"_"),s+l+d+r+c},e.prototype.getSufficientDataPromise=function(){var e=this.sufficientDataCache.get(this.SUFFICIENT_DATA_KEY);return e||(e={promise:this.SufficientDataModel.$new().$fetch().$allow([404,400]).$asPromise()},this.sufficientDataCache.put(this.SUFFICIENT_DATA_KEY,e)),e},e.prototype.getNotificationsPromise=function(e,t,i,a){var n=e+t+i+a,s=this.notificationsCache.get(n);if(!s){var r={};t&&(r.userId=t),i&&(r.includeDismissed=i),a&&(r.notificationType=a),(s={promise:this.CourseNotificationsModel.$find(e,r).$asPromise()}).promise.then((function(e){return e.currentStudent.forEach((function(e){e.ui={createdDay:d.utc(e.created).startOf("day").toDate()}})),e})),this.notificationsCache.put(n,s)}return s},e.$inject=["DSCacheFactory","$q",r.b,o.serviceName,c.yb.serviceName,c.zb.serviceName,c.Ab.serviceName,c.Bb.serviceName,c.Cb.serviceName,c.Fb.serviceName,c.Gb.serviceName,c.Ib.serviceName,c.Jb.serviceName,c.Kb.serviceName,c.Lb.serviceName,c.Db.serviceName,c.Eb.serviceName],e}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(a.__extends)(t,e)}(b);s.module(m,[c.Q,r.a]).service(p,b)},zyQz:function(e,t,i){"use strict";var a=i("D57K"),n=i("nbDY"),s=i.n(n),r=i("EtRF"),l=i("1ovh"),o=i("nmzr"),c=function(e){function t(t,i){var a=e.call(this,t)||this;return a.options=i,a}return Object(a.__extends)(t,e),t.prototype.getRelatedTimeSeries=function(){return this.options.relatedTimeSeries},t.prototype.getTitle=function(e,i){if(this===t.StudentsInTrouble){var a=parseInt(e.extraAttribs.inTroubleCount,10)||0,n=parseInt(e.extraAttribs.inTroubleFailing,10)||0,s=parseInt(e.extraAttribs.inTroubleAbsent,10)||0,r="withBoth.plural";return r=n>0?s>0?"withBoth.plural":"withFailing.plural":s>0?"withAbsent.plural":"noExtras.plural",{locale:i,key:this.options.bundleTitleKey+"."+r,params:{count:a,failing:n,absent:s}}}var l=this.getPhraseVariant(e);return l?{locale:i,key:this.options.bundleTitleKey+".variation"+l}:{locale:i,key:this.options.bundleTitleKey}},t.prototype.getBody=function(e,t){if(this.options.bundleBodyKey){var i=this.getPhraseVariant(e);return i?{locale:t,key:this.options.bundleBodyKey+".variation"+i}:{locale:t,key:this.options.bundleBodyKey}}return{locale:t,key:""}},t.prototype.getPhraseVariant=function(e){if(this.options.phraseVariants)return 1+((e.extraAttribs.phraseVariant||1)-1)%this.options.phraseVariants},t.prototype.getInitialView=function(){return this.options.initialView},t.prototype.getInsight=function(e){return this.options.insightKey?{locale:e,key:this.options.insightKey}:null},t.prototype.getAction=function(e){return this.options.actionKey?{locale:e,key:this.options.actionKey}:null},t.prototype.getIcon=function(){return this.options.icon},t.SufficientActivityData=new t("SufficientActivityData",{initialView:o.TelemetryViewType.INSTRUCTOR_DYNAMIC,relatedTimeSeries:l.a.Activity,bundleTitleKey:"base.stream.telemetry.sufficientActivityData.title",bundleBodyKey:"base.stream.telemetry.sufficientActivityData.body",icon:r.a.DEFAULT}),t.SufficientGradeData=new t("SufficientGradeData",{initialView:o.TelemetryViewType.INSTRUCTOR_DYNAMIC,relatedTimeSeries:l.a.Grades,bundleTitleKey:"base.stream.telemetry.sufficientGradeData.title",bundleBodyKey:"base.stream.telemetry.sufficientGradeData.body",icon:r.a.DEFAULT}),t.StudentsInTrouble=new t("StudentsInTrouble",{initialView:o.TelemetryViewType.INSTRUCTOR_DYNAMIC,relatedTimeSeries:l.a.Grades,bundleTitleKey:"base.stream.telemetry.studentsInTrouble",icon:r.a.ALERT}),t.GradeBelowThreshold=new t("GradeBelowThreshold",{initialView:o.TelemetryViewType.STUDENT_LOW_GRADES,relatedTimeSeries:l.a.Grades,bundleTitleKey:"base.stream.telemetry.gradeWarning.title",bundleBodyKey:"base.stream.telemetry.gradeWarning.body",phraseVariants:2,insightKey:"components.directives.telemetry.insight.gradeBelowThreshold",actionKey:"base.stream.telemetry.action.level",icon:r.a.ALERT}),t.GradeInLowest=new t("GradeInLowest",{initialView:o.TelemetryViewType.STUDENT_LOW_GRADES,relatedTimeSeries:l.a.Grades,bundleTitleKey:"base.stream.telemetry.gradeWarning.title",bundleBodyKey:"base.stream.telemetry.gradeWarning.body",phraseVariants:2,insightKey:"components.directives.telemetry.insight.lowPerformer",actionKey:"base.stream.telemetry.action.level",icon:r.a.ALERT}),t.GradeDropped=new t("GradeDropped",{initialView:o.TelemetryViewType.STUDENT_FIND_A_STUDY_PARTNER,relatedTimeSeries:l.a.Grades,bundleTitleKey:"base.stream.telemetry.gradeDropped.title",bundleBodyKey:"base.stream.telemetry.gradeDropped.body",insightKey:"components.directives.telemetry.insight.trendingDown",actionKey:"base.stream.telemetry.action.studyPartner",icon:r.a.ALERT}),t.NoRecentActivity=new t("NoRecentActivity",{initialView:o.TelemetryViewType.DIRECT_TO_COURSE,relatedTimeSeries:l.a.Activity,bundleTitleKey:"base.stream.telemetry.activityLowestWarning.title",bundleBodyKey:"base.stream.telemetry.activityLowestWarning.body",insightKey:"components.directives.telemetry.insight.noRecentActivity",actionKey:"base.stream.telemetry.action.courseOutline",icon:r.a.ALERT}),t.ActivityInLowest=new t("ActivityInLowest",{initialView:o.TelemetryViewType.STUDENT_LOW_ACTIVITY,relatedTimeSeries:l.a.Activity,bundleTitleKey:"base.stream.telemetry.activityLowestWarning.title",bundleBodyKey:"base.stream.telemetry.activityLowestWarning.body",insightKey:"components.directives.telemetry.insight.lowPerformer",actionKey:"base.stream.telemetry.action.level",icon:r.a.ALERT}),t.ActivityDropped=new t("ActivityDropped",{initialView:o.TelemetryViewType.STUDENT_LOW_ACTIVITY,relatedTimeSeries:l.a.Activity,bundleTitleKey:"base.stream.telemetry.activityDroppedWarning.title",bundleBodyKey:"base.stream.telemetry.activityDroppedWarning.body",insightKey:"components.directives.telemetry.insight.trendingDown",actionKey:"base.stream.telemetry.action.level",icon:r.a.ALERT}),t.ActivityIncreased=new t("ActivityIncreased",{initialView:o.TelemetryViewType.STUDENT_PROGRESS,relatedTimeSeries:l.a.Activity,bundleTitleKey:"base.stream.telemetry.performanceIncreased.title",bundleBodyKey:"base.stream.telemetry.performanceIncreased.body",actionKey:"base.stream.telemetry.action.performance",icon:r.a.KUDOS}),t.ActivityInHighest=new t("ActivityInHighest",{initialView:o.TelemetryViewType.STUDENT_HIGH_PERFORMANCE,relatedTimeSeries:l.a.Activity,bundleTitleKey:"base.stream.telemetry.activityInHighest.title",bundleBodyKey:"base.stream.telemetry.activityInHighest.body",actionKey:"base.stream.telemetry.action.performance",icon:r.a.KUDOS}),t.GradeIncreased=new t("GradeIncreased",{initialView:o.TelemetryViewType.STUDENT_PROGRESS,relatedTimeSeries:l.a.Grades,bundleTitleKey:"base.stream.telemetry.performanceIncreased.title",bundleBodyKey:"base.stream.telemetry.performanceIncreased.body",actionKey:"base.stream.telemetry.action.performance",icon:r.a.KUDOS}),t.GradeInHighest=new t("GradeInHighest",{initialView:o.TelemetryViewType.STUDENT_HIGH_PERFORMANCE,relatedTimeSeries:l.a.Grades,bundleTitleKey:"base.stream.telemetry.gradeInHighest.title",bundleBodyKey:"base.stream.telemetry.gradeInHighest.body",actionKey:"base.stream.telemetry.action.performance",icon:r.a.KUDOS}),t}(s.a);t.a=c}}]);