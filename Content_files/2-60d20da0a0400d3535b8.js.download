(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"1NX5":function(e,t,i){var n=i("ziER"),o=i("5JeM"),s=new n({id:"icon-small-information",use:"icon-small-information-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-information"><circle cx="8" cy="8" r="7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M7 7h1v4M6 11h4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="8" cy="4" r=".5" /></symbol>'});o.add(s);e.exports=s},DUMb:function(e,t,i){var n=i("ziER"),o=i("5JeM"),s=new n({id:"icon-medium-information",use:"icon-medium-information-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-information"><path d="M12 23c6.0751 0 11-4.9249 11-11S18.0751 1 12 1 1 5.9249 1 12s4.9249 11 11 11z" stroke-width="2" /><path d="M12 6.5a.5.5 0 100-1 .5.5 0 000 1z" stroke-linecap="round" stroke-linejoin="round" /><path d="M10 9h2v9M10 18h4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});o.add(s);e.exports=s},FFRk:function(e,t,i){var n=i("ziER"),o=i("5JeM"),s=new n({id:"icon-medium-lock",use:"icon-medium-lock-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-lock"><path d="M11 16c0-.5523.4477-1 1-1v0c.5523 0 1 .4477 1 1v2c0 .5523-.4477 1-1 1v0c-.5523 0-1-.4477-1-1v-2z" stroke-width="2" /><path stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M3 11h18v12H3z" /><path d="M6 11V6s0-5 6-5 6 5 6 5v5" stroke-width="2" /></symbol>'});o.add(s);e.exports=s},FpRh:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("D57K"),o=i("yC9S"),s=i("aHpC"),l=i("t3aq"),c=i.n(l),r="ultra.directives.bbAllyContentRef";!function(){function e(e){this.$element=e}e.prototype.$postLink=function(){c.a.renderContentId(this.$element[0],{contentId:this.contentId,fileId:this.fileId,filePreviewUrl:this.filePreviewUrl})},e.prototype.$onDestroy=function(){c.a.destroyComponent(this.$element[0])},e=Object(n.__decorate)([Object(o.a)({module:angular.module(r,[]),componentName:"bbAllyContentRef",bindings:{contentId:"@",fileId:"@",filePreviewUrl:"@"}}),Object(n.__param)(0,Object(s.b)("$element"))],e)}()},StCz:function(e,t,i){},TCPR:function(e,t,i){var n=i("ziER"),o=i("5JeM"),s=new n({id:"icon-small-time",use:"icon-small-time-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-time"><path d="M15 8c0 3.866-3.134 7-7 7s-7-3.134-7-7 3.134-7 7-7 7 3.134 7 7zM5 11l1-1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M8 4v4l3 2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});o.add(s);e.exports=s},"W5+i":function(e,t,i){var n=i("ziER"),o=i("5JeM"),s=new n({id:"icon-medium-invisible",use:"icon-medium-invisible-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-invisible"><circle cx="12" cy="12" r="2" stroke-width="2" /><path d="M12 6C7.1067 6 1 12 1 12s6.1067 6 11 6 11-6 11-6-6.1067-6-11-6zM1 23L23 1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});o.add(s);e.exports=s},W6wm:function(e,t,i){"use strict";var n;i.d(t,"a",(function(){return n})),function(e){e.CourseOutline="course-outline",e.Discussions="discussions"}(n||(n={}))},Ycix:function(e,t,i){var n=i("ziER"),o=i("5JeM"),s=new n({id:"icon-medium-people",use:"icon-medium-people-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-people"><path d="M1 23c1.096-4.3157 4.5473-7 9-7s7.904 2.6843 9 7M10 16c2.7614 0 5-2.2386 5-5s-2.2386-5-5-5-5 2.2386-5 5 2.2386 5 5 5zM18.5 8C20.433 8 22 6.433 22 4.5S20.433 1 18.5 1 15 2.567 15 4.5 16.567 8 18.5 8zM23 12c-.2345-1.9862-2.5-4-4.5-4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});o.add(s);e.exports=s},ZKRZ:function(e,t,i){var n=i("ziER"),o=i("5JeM"),s=new n({id:"icon-small-conversation",use:"icon-small-conversation-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-conversation"><path d="M15 4.5C15 6.433 13.433 8 11.5 8c-.4457 0-.872-.0833-1.264-.2352L8 8l.25-2.1985A3.4905 3.4905 0 018 4.5C8 2.567 9.567 1 11.5 1S15 2.567 15 4.5zM7 15c0-2-2-4-4-4M3 11c1.1046 0 2-.8954 2-2s-.8954-2-2-2-2 .8954-2 2 .8954 2 2 2z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});o.add(s);e.exports=s},aZnd:function(e,t,i){var n=i("ziER"),o=i("5JeM"),s=new n({id:"icon-medium-time",use:"icon-medium-time-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-time"><circle cx="12" cy="12" r="11" stroke-width="2" /><path d="M12 5v7l4 4M10 14l-3 3" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});o.add(s);e.exports=s},cs5G:function(e,t,i){"use strict";i.d(t,"a",(function(){return y})),i.d(t,"b",(function(){return m}));var n=i("D57K"),o=i("nsO7"),s=i("t3aq"),l=i("Qbdf"),c=i("X455"),r=i("HAJP"),a=i("0JpG"),d=i("5MwF"),u=i("WSu0"),b=i("Q/M7"),p=i("pjml"),h=i("aHpC"),v=i("6fZB"),y="ultra.service.ally",m="ally",f=function(){function e(e,t,i,n,o,s,l,c){var r=this;this.$q=e,this.$timeout=t,this.$interval=i,this.allyModel=n,this.contextCourse=o,this.contextCourseMembership=s,this.bbLocalize=l,this.bbScriptLoader=c,this.cachedTokensMap=new Map,this._mockCourses={},this._xythosIdToContentIdMap={},this._xythosIdToInstructorFeedbackUpdateCallbackMap=new Map,this.getToken=function(e){var t=e?r._xythosIdToContentIdMap[e]:void 0;return r.cachedTokensMap.has(e)&&Date.now()<r.cachedTokensMap.get(e).exp?r.$q.resolve(r.cachedTokensMap.get(e).token):r.allyModel.getAllyToken(r.contextCourse.courseId,t).then((function(t){var i=r.getExpireMillisFromToken(t),n={bearer:t.authToken};return r.cachedTokensMap.set(e,{token:n,exp:i}),n}))}}return e.prototype.getAllySettings=function(){var e=this;return this._allyConfig?this.$q.resolve(this._allyConfig):this.allyModel.getAllyConfig().then((function(t){return e._allyConfig=t}))},e.prototype.getExpireMillisFromToken=function(e){return 1e3*u(e.authToken).exp},e.prototype.isAvailable=function(){return this.getAllySettings().then((function(e){return e.serviceAvailable}))},e.prototype.getXythosIdFromContentFileUrl=function(e){var t=/(?:xid|_xy)-([^&]*)/.exec(e),i=t&&t[1];return i&&"_"!==i.substr(0,1)&&(i="_"+i),i},e.prototype.getXythosIdFromContentItem=function(e){var t=o.get(e,"contentDetail['resource/x-bb-file'].file.permanentUrl");if(t)return this.getXythosIdFromContentFileUrl(t)},e.prototype.isAllySupportedContentItem=function(e){return e.isFile()&&!e.isConditionalReleaseLocked()},e.prototype.disable=function(){this._allyConfig?this._allyConfig.serviceAvailable=!1:this._allyConfig={serviceAvailable:!1}},e.prototype.ensureAlly=function(){var e=this,t=this,i=this.$q.defer();return this.ally?i.resolve():this.getAllySettings().then((function(n){if(n.serviceAvailable){var o,s=!1,l=function(t,n){s||(t?i.resolve():(e.disable(),n&&console.error(n),i.reject()),s=!0,e.$timeout.cancel(o))};o=e.$timeout((function(){l(!1,"Ally initialization timed out.  Disabling Ally Service.")}),d.a.allyInitializationTimeout||1e4),e.bbScriptLoader.getScript(n.javascriptUrl,{attributes:{"data-ally-loader":""},exports:"ally"}).then((function(e){t.ally=e;try{t.ally.ready((function(){l(!0)}))}catch(e){console.error(e),l(!1,"Ally initialization error.  Disabling Ally Service.")}})).catch((function(){l(!1,"Failed to load ally.js.  Disabling Ally Service.")}))}else i.resolve()})),i.promise},e.prototype.getRole=function(){return this.contextCourseMembership.isActAsInstructorMembership()?"privileged":"unprivileged"},e.prototype.destroyCurrentAllyInstance=function(){this.cachedTokensMap.clear();var e=this.$q.defer();return this._xythosIdToInstructorFeedbackUpdateCallbackMap.clear(),this.allyUI?this.allyUI.destroy().then((function(){e.resolve()})):e.resolve(),e.promise},e.prototype.ensureAllyUI=function(e){var t=this;if(this.allyLoadInProgressPromise)return this.allyLoadInProgressPromise;var i=this.$q.defer();return this.allyLoadInProgressPromise=i.promise,this.ensureAlly().then((function(){t.getAllySettings().then((function(n){if(!n.serviceAvailable||t.currentCourseId===t.contextCourse.courseId&&t.currentLocale===t.bbLocalize.getLocale(e))t.allyLoadInProgressPromise=void 0,i.resolve();else{t.currentCourseId!==t.contextCourse.courseId&&(t._xythosIdToContentIdMap={}),t.currentCourseId=t.contextCourse.courseId,t.currentLocale=t.bbLocalize.getLocale(e);var o={client:{auth:t.getToken.bind(t),baseUrl:b.i(n.ltiUrl),clientId:n.clientId},courseId:t.currentCourseId,locale:t.currentLocale,platformName:"learn",role:t.getRole(),instructorfeedback:{callbacks:{closed:function(){t.allyUI.client.clearAllFromCache(),t.allyUI.update()},deleted:function(e){},replacedFile:function(e,t){},updated:function(e){t.instructorFeedbackUpdateCallback(e)}}}};d.a.features.devtools_allyMock&&(t.allyMock=t.ally.ui.$mock(t._mockCourses,void 0),o.client.jQuery=t.allyMock),t.destroyCurrentAllyInstance().then((function(){t.allyUI=t.ally.ui(o),t.allyUI.autoUpdate({domWatch:d.a.allyAutoUpdateInterval||500}).then((function(){t.allyLoadInProgressPromise=void 0,i.resolve()}))}))}}))})).catch((function(){t.allyLoadInProgressPromise=void 0,i.reject()})),this.allyLoadInProgressPromise},e.prototype.update=function(e,t,i){var n=this;this.isAvailable().then((function(o){o&&n.ensureAllyUI(e).then((function(){t&&i&&(n._xythosIdToContentIdMap[i]=t,n.allyUI.client.clearFileIdFromCache(i)),n.registerMockFileReference(i)}))}))},e.prototype.registerMockFileReference=function(e){var t,i;d.a.features.devtools_allyMock&&e&&(o.merge(this._mockCourses,((t={})[this.currentCourseId]=((i={})[e]={availableAlternativeFormats:["Tts","Epub","Translation","Braille","Html"],creator:null,decorative:null,description:"mock file",id:e,isVersioned:!1,libraryReference:null,name:"mockfile",producer:null,results:{},score:.75,size:12345,suggestions:{},type:"pdf"},i),t)),this.allyMock.set(this._mockCourses))},e.prototype.fileUploadEvent=function(){var e=this;this._clearCacheInterval||"privileged"!==this.getRole()||(this._clearCacheInterval=this.$interval((function(){e.allyUI&&e.allyUI.client&&e.allyUI.client.clearAllFromCache()}),d.a.allyClearCacheInterval||1e4,0,!1))},e.prototype.getIndexMapFromBbML=function(e){var t=new Map,i=e.match(/(<a[^>]+)/gi)||[],n=0;return i.forEach((function(e){if(e.includes('data-bbfile="')){var i=e.match(/href="[^"]+xid-([0-9_]+)/)||[];i.length>=2&&("_"!==i[1].substr(0,1)&&(i[1]="_"+i[1]),t.set(i[1],n)),n++}})),t},e.prototype.instructorFeedbackUpdateCallback=function(e){var t=this._xythosIdToInstructorFeedbackUpdateCallbackMap.get(e.id);t&&t(e)},e.prototype.onUpdate=function(e,t,i){switch(e){case s.UpdateEvent.InstructorFeedback:this._xythosIdToInstructorFeedbackUpdateCallbackMap.set(t,i)}},e.prototype.destroyListeners=function(e){this._xythosIdToInstructorFeedbackUpdateCallbackMap.delete(e)},e.prototype.getReactService=function(e){var t=this;return{getXythosIdFromContentFileUrl:this.getXythosIdFromContentFileUrl.bind(this),update:function(i,n){return t.update(e,i,n)},isAvailable:function(){return Object(v.a)(t.isAvailable())},getIndexMapFromBbML:this.getIndexMapFromBbML.bind(this),onUpdate:this.onUpdate.bind(this),destroyListeners:this.destroyListeners.bind(this)}},e=Object(n.__decorate)([Object(n.__param)(0,Object(h.b)("$q")),Object(n.__param)(1,Object(h.b)("$timeout")),Object(n.__param)(2,Object(h.b)("$interval")),Object(n.__param)(3,Object(h.b)(p.a.serviceName)),Object(n.__param)(4,Object(h.b)(l.e)),Object(n.__param)(5,Object(h.b)(c.d)),Object(n.__param)(6,Object(h.b)(a.serviceName)),Object(n.__param)(7,Object(h.b)(r.b))],e)}();!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(n.__extends)(t,e)}(f);angular.module(y,[l.b,c.a,a.moduleName,r.a]).service(m,f)},k1CA:function(e,t){e.exports='<bb-modal id="remove-fs-confirmation-modal" class="notification js-dismiss-modal" role="alertdialog" bb-translate-attrs="{\'aria-label\': \'course.conditionalRelease.removeFSModal.title\'}"\n          modal-title-key="course.conditionalRelease.removeFSModal.title"\n          analytics-id-tag-prefix="course.conditionalRelease.removeFSModal">\n  <div name="modal-contents">\n    <p bb-translate course-org-token-resolver>course.conditionalRelease.removeFSModal.instructions</p>\n  </div>\n  <button name="modal-footer-button-primary" \n          class="button js-primary-button" \n          ng-click="$parent.$close()" \n          bb-translate\n          analytics-id="global.remove">\n    global.remove\n  </button>\n  <button name="modal-footer-button-secondary" \n          class="button button--secondary js-secondary-button" \n          ng-click="$parent.$dismiss()" \n          bb-translate\n          analytics-id="global.cancel">\n    global.cancel\n  </button>\n</bb-modal>\n'},laCM:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i("D57K"),o=i("t3aq"),s=i.n(o),l=i("cs5G"),c=i("0JpG"),r=i("yC9S"),a=i("aHpC"),d="ultra.directives.bbAllyShow";!function(){function e(e,t,i){this.$element=e,this.$scope=t,this.localize=i,this.showIcon=!1}e.prototype.$postLink=function(){var e={contentRef:this.contentId,widgetType:this.showViewScoreLink?o.WidgetType.ScoreIndicator:o.WidgetType.AlternativeFormats},t=this.localize.getLocale(this.$scope);this.showIcon?this.iconSize&&(e.iconSize=this.iconSize):e.text=this.localize.translateSync({locale:t,key:this.showViewScoreLink?"ally.open_feedback_panel":"ally.download_alternative_formats"}),this.showAlternativeFormatsLink&&(e.ariaLabel=this.localize.translateSync({locale:t,key:"ally.download_alternative_formats"})),s.a.renderWidget(this.$element[0],e)},e.prototype.$onDestroy=function(){s.a.destroyComponent(this.$element[0])},e=Object(n.__decorate)([Object(r.a)({module:angular.module(d,[l.a,c.moduleName]),componentName:"bbAllyShow",bindings:{contentId:"@",showViewScoreLink:"<?",showAlternativeFormatsLink:"<?",showIcon:"<?",iconSize:"@?"}}),Object(n.__param)(0,Object(a.b)("$element")),Object(n.__param)(1,Object(a.b)("$scope")),Object(n.__param)(2,Object(a.b)(c.serviceName))],e)}()},lwNT:function(e,t,i){var n=i("ziER"),o=i("5JeM"),s=new n({id:"icon-small-lock",use:"icon-small-lock-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-lock"><path d="M3 8h10v7H3V8zM5 8V4c0-1.5 1-3 3-3m0 0c.5 0-.5 0 0 0zm0 0c2 0 3 1.5 3 3v4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});o.add(s);e.exports=s},nfUd:function(e,t,i){var n=i("ziER"),o=i("5JeM"),s=new n({id:"icon-medium-visible",use:"icon-medium-visible-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-visible"><circle cx="12" cy="12" r="2" stroke-width="2" /><path d="M12 6C7.1067 6 1 12 1 12s6.1067 6 11 6 11-6 11-6-6.1067-6-11-6z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /></symbol>'});o.add(s);e.exports=s},s0ts:function(e,t){e.exports='<div bb-foundation-defer bb-load-bundle="components/directives/content-visibility" class="item-selector-container content-visibility-selector" bb-cache-compilation="content-visibility-selector">\n  \x3c!-- To allow instructors to see visibility status in a completed course --\x3e\n  <div ng-if="!contentVisibilitySelector.isEditable() && contentVisibilitySelector.entitledToViewDesigner && content.isVisibleToStudents()" class="visibility-message visibility-label">\n    <bb-svg-icon size="{{::contentVisibilitySelector.getIconSize()}}" icon="visible" class="visibility-icon"></bb-svg-icon>\n    <span class="js-visibility js-visible-option vert-centered-label-text" bb-translate course-org-token-resolver>\n      components.directives.content-visibility.visible\n    </span>\n  </div>\n  \x3c!-- To allow instructors to see visibility status in a completed course --\x3e\n  <div ng-if="!contentVisibilitySelector.isEditable() && contentVisibilitySelector.entitledToViewDesigner && content.isHiddenFromStudents()" class="visibility-message visibility-label">\n    <bb-svg-icon size="{{::contentVisibilitySelector.getIconSize()}}" icon="invisible" class="visibility-icon"></bb-svg-icon>\n    <span bb-translate course-org-token-resolver>components.directives.content-visibility.hidden</span>\n  </div>\n  \x3c!-- To allow instructors to see visibility status in a completed course --\x3e\n  <div ng-if="!contentVisibilitySelector.isEditable() && contentVisibilitySelector.entitledToViewDesigner && content.isConditionalRelease()" class="visibility-message visibility-label">\n    <bb-svg-icon size="{{::contentVisibilitySelector.getIconSize()}}" icon="lock" class="visibility-icon"></bb-svg-icon>\n    <span class="js-visibility js-restricted-option js-conditional-release-option" bb-translate>components.directives.content-visibility.conditional-availability</span>\n  </div>\n  <button name="visibility-content" ng-model="content.visible" ng-show="contentVisibilitySelector.isEditable()"\n          ng-disabled="content.isInForcedSequenceModule()"\n          bb-prevent-click-if="!contentVisibilitySelector.isVisibilitySelectorEnabled()" type="button"\n          class="button dropdown" aria-controls="item-visibility-selector_{{::contentVisibilitySelector.selectorId}}"\n          data-dropdown="item-visibility-selector_{{::contentVisibilitySelector.selectorId}}" aria-expanded="false"\n          analytics-id="course.content.visibility.button">\n    <div class="visibility-label" ng-if="content.isVisibleToStudents()">\n      <bb-svg-icon size="{{::contentVisibilitySelector.getIconSize()}}" icon="visible" class="visibility-icon"></bb-svg-icon>\n      <span class="js-visibility js-visible-option vert-centered-label-text" bb-translate course-org-token-resolver>\n        components.directives.content-visibility.visible\n      </span>\n    </div>\n    <div class="visibility-label" ng-if="content.isHiddenFromStudents()">\n      <bb-svg-icon size="{{::contentVisibilitySelector.getIconSize()}}" icon="invisible" class="visibility-icon"></bb-svg-icon>\n      <span class="js-visibility js-hidden-option vert-centered-label-text" bb-translate course-org-token-resolver>\n        components.directives.content-visibility.hidden\n      </span>\n    </div>\n    <div class="visibility-label" ng-if="content.isConditionalRelease()">\n      <bb-svg-icon size="{{::contentVisibilitySelector.getIconSize()}}" icon="lock" class="visibility-icon"></bb-svg-icon>\n      <span class="js-visibility js-restricted-option vert-centered-label-text" bb-translate>components.directives.content-visibility.conditional-availability</span>\n    </div>\n    \x3c!-- LRN-114090 The native mobile select works by covering the button to intercept the click.\n          It needs to be nested inside the button properly fill the entirety of the button. --\x3e\n    <select ng-if="::contentVisibilitySelector.useNativeSelect()" class="button"\n            ng-model="contentVisibilitySelector.selectedVisibilityOption"\n            ng-options="option.text for option in contentVisibilitySelector.visibilityOptions | filter: {show: true}"\n            ng-change="contentVisibilitySelector.selectedVisibilityOption.onSelect()"\n            analytics-id="course.content.visibility.select">\n    </select>\n  </button>\n\n  <ul ng-if="::!contentVisibilitySelector.useNativeSelect()" ng-show="contentVisibilitySelector.isEditable()"\n      id="item-visibility-selector_{{::contentVisibilitySelector.selectorId}}" class="f-dropdown item-visibility-selector selection-full-width"\n      data-dropdown-content aria-hidden="true">\n    <li ng-class="{\'item-selected\': content.isVisibleToStudents()}" ng-if="contentVisibilitySelector.showVisibleHiddenMenuOptions()">\n      <a href="javascript:void(0);" ng-click="contentVisibilitySelector.selectVisible()" class="visible-option visibility-label"\n         analytics-id="components.directives.content-visibility.visible.link">\n        <bb-svg-icon size="{{::contentVisibilitySelector.getIconSize()}}" icon="visible"></bb-svg-icon>\n        <span bb-translate course-org-token-resolver>components.directives.content-visibility.visible</span>\n      </a>\n    </li>\n    <li ng-class="{\'item-selected\': content.isHiddenFromStudents()}" ng-if="contentVisibilitySelector.showVisibleHiddenMenuOptions()">\n      <a href="javascript:void(0);" ng-click="contentVisibilitySelector.selectHidden()" class="hidden-option visibility-label"\n         analytics-id="components.directives.content-visibility.hidden.link">\n          <bb-svg-icon size="{{::contentVisibilitySelector.getIconSize()}}" icon="invisible"></bb-svg-icon>\n          <span bb-translate course-org-token-resolver>components.directives.content-visibility.hidden</span>\n      </a>\n    </li>\n    <li ng-if="contentVisibilitySelector.showConditionalReleaseMenuOption()" ng-class="{\'item-selected\': content.isConditionalRelease()}">\n      <a href="javascript:void(0);" ng-click="contentVisibilitySelector.selectConditionalRelease()" class="restricted-option visibility-label conditional-release-restricted-option"\n         analytics-id="components.directives.content-visibility.conditional-availability.link">\n          <bb-svg-icon size="{{::contentVisibilitySelector.getIconSize()}}" icon="lock"></bb-svg-icon>\n          <span bb-translate>components.directives.content-visibility.conditional-availability</span>\n      </a>\n    </li>\n  </ul>\n</div>\n'},sLTT:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));i("KCTV"),i("StCz"),i("TCPR"),i("Vdys"),i("RJjh"),i("lwNT"),i("aZnd"),i("nfUd"),i("W5+i"),i("FFRk");var n=i("wHJ2"),o=i("nsO7"),s=i("Sa5G"),l=i("jhBu"),c=i("0JpG"),r=i("oQrK"),a=i("+4Px"),d=i("pjml"),u=i("e6jQ"),b=i("TnpK"),p=i("ZzYr"),h=i("Qbdf"),v=i("s0ts"),y=i("k1CA"),m="ultra.directives.contentVisibilitySelector",f=function(){function e(e,t,i,n,l,c,r,b,p){var h=this;if(this.iScope=e,this.element=t,this.$q=i,this.$ngRedux=n,this.bbLocalize=l,this.entitlementService=c,this.ultraState=r,this.$modal=b,this.currentCourse=p,this.contentHandler="",this.isBbPage=!1,this.todayDate=new Date,this.visibilityOptions=[],this.scope=e,this.scope.contentVisibilitySelector=this,this.visibleOptionKey="components.directives.content-visibility."+(p.course.isOrganization?"organization.":"")+"visible",this.hiddenOptionKey="components.directives.content-visibility."+(p.course.isOrganization?"organization.":"")+"hidden",this.contentId=this.scope.content.id,this.contentHandler=this.scope.content.contentHandler?this.scope.content.contentHandler.toString():"",null==this.contentId)var v=this.scope.$watch((function(){return h.scope.content.id}),(function(e){e&&(null==h.contentId&&(h.contentId=e),v())}));if(this.selectorId=u.a(),this.contentHandler&&(d.r.ContentHandler.CourseLink.isEqualTo(this.contentHandler)&&null!=this.scope.content.contentDetail&&this.scope.content.getLinkContentSource().$then((function(e){h.contentHandler=e.contentHandler&&e.contentHandler.toString(),h.contentId=e.id})),d.r.ContentHandler.Folder.isEqualTo(this.contentHandler)&&null!=this.scope.content.contentDetail)){var y=this.scope.content.contentDetail[d.r.ContentHandler.Folder.toString()];y&&y.isBbPage&&(this.isBbPage=!0)}if(this.useNativeSelect()&&this.initVisibilityOptions(),this.scope.content.permissions){var m=this.scope.content.permissions;this.entitledToViewDesigner=o.isFunction(this.scope.content.canViewAsInstructor)&&this.scope.content.canViewAsInstructor(),m.adaptiveRelease?(this.entitledToViewConditionalRelease=m.adaptiveRelease.view,this.entitledToDeleteConditionalRelease=m.adaptiveRelease.delete):this.loadAdaptiveReleaseEntitlements()}else this.entitlementService.hasCourseEntitlement(s.f.ViewAsDesigner,this.scope.content.courseId).then((function(e){h.entitledToViewDesigner=e})),this.loadAdaptiveReleaseEntitlements();t.find(".item-visibility-selector, .item-visibility-selector a").on("keydown",(function(e){e.keyCode===a.f&&e.preventDefault()}))}return e.prototype.getIconSize=function(){return this.scope.hasMediumIcon?"medium":"small"},e.prototype.loadAdaptiveReleaseEntitlements=function(){var e=this,t=this.entitlementService.hasCourseEntitlement(s.j.ViewAdaptiveRelease,this.scope.content.courseId).then((function(t){e.entitledToViewConditionalRelease=t})),i=this.entitlementService.hasCourseEntitlement(s.j.DeleteAdaptiveRelease,this.scope.content.courseId).then((function(t){e.entitledToDeleteConditionalRelease=t}));return this.$q.all([t,i])},e.prototype.onChange=function(){this.scope.onchangeFunc&&this.scope.onchangeFunc()},e.prototype.onBlur=function(){this.scope.onblurFunc&&this.scope.onblurFunc()},e.prototype.disableRestricted=function(){return!!this.scope.disableRestricted&&this.scope.disableRestricted()},e.prototype.onRestrictedSelected=function(){this.scope.onRestrictedSelectedFunc&&this.scope.onRestrictedSelectedFunc()},e.prototype.selectVisible=function(){this.visibilitySelected(d.r.Visibility.Visible)},e.prototype.selectHidden=function(){this.visibilitySelected(d.r.Visibility.Hidden)},e.prototype.selectConditionalRelease=function(){var e={id:this.contentId};this.ultraState.goPeekState("conditional-release",e)},e.prototype.isEditable=function(){if(!this.isVisibilitySelectorMenuEmpty()){if(this.scope.content.canEdit())return!0;if(this.scope.content.canEditAvailability&&this.scope.content.canEditAvailability())return!0;if(!this.scope.content.id)return!0}return!1},e.prototype.validateChange=function(e){if(this.scope.validationFunc){var t=this.scope.validationFunc({visibility:e});return void 0===t||t}return!0},e.prototype.visibilitySelected=function(e){var t=this;if(this.validateChange(e)){if(this.scope.content&&this.scope.content.isForcedSequenceModule&&this.scope.content.isForcedSequenceModule())return void this.bbLocalize.loadBundle("features/course/conditional-release/conditional-release").then((function(){return t.$modal.open({template:y,scope:t.scope}).result})).then((function(){t.changeVisibility(e)}));this.changeVisibility(e)}},e.prototype.changeVisibility=function(e){this.scope.content&&this.scope.content.isConditionalRelease&&this.scope.content.isConditionalRelease()&&this.scope.content.conditionalReleaseAsync("DELETE"),this.scope.content.setVisibility(e),d.r.Visibility.Restricted.isEqualTo(e)&&this.onRestrictedSelected(),this.onChange(),this.onBlur()},e.getAdaptiveReleaseCriteria=function(e){return e&&e.rules?e.rules.map((function(e){return e.criteria})).reduce((function(e,t){return t.concat(e)}),[]):null},e.prototype.canDeleteCriteria=function(e){switch(e.type){case"Grade_Range":case"Grade_Range_Percentage":return this.scope.content.permissions.adaptiveRelease.criteria.performance.delete;case"Date_Range":return this.scope.content.permissions.adaptiveRelease.criteria.dates.delete;default:return this.scope.content.permissions.adaptiveRelease.delete}},e.prototype.canDeleteAllCriteria=function(e){var t=this;return e.every((function(e){return t.canDeleteCriteria(e)}))},e.prototype.canShowVisibleHidden=function(){var t=e.getAdaptiveReleaseCriteria(this.scope.content.adaptiveReleaseRules);return this.entitledToDeleteConditionalRelease||!t||this.canDeleteAllCriteria(t)},e.prototype.showVisibleHiddenMenuOptions=function(){var e=this.scope.content.isConditionalRelease&&this.scope.content.isConditionalRelease();return!e||e&&this.canShowVisibleHidden()},e.prototype.showConditionalReleaseMenuOption=function(){return!this.disableRestricted()&&this.scope.content.id&&this.entitledToViewConditionalRelease},e.prototype.isVisibilitySelectorMenuEmpty=function(){return!this.showVisibleHiddenMenuOptions()&&!this.showConditionalReleaseMenuOption()},e.prototype.isVisibilitySelectorEnabled=function(){return!this.scope.isVisibilitySelectorEnabled||this.scope.isVisibilitySelectorEnabled()},e.prototype.useNativeSelect=function(){return!r.a.detect().desktop()},e.prototype.initVisibilityOptions=function(){var e=this;this.bbLocalize.loadBundle("components/directives/content-visibility").then((function(){e.visibilityOptions=[{show:!0,visibility:d.r.Visibility.Visible,text:e.bbLocalize.translateSync({locale:e.bbLocalize.getLocale(e.scope),key:e.visibleOptionKey}),onSelect:function(){e.selectVisible()}},{show:!0,visibility:d.r.Visibility.Hidden,text:e.bbLocalize.translateSync({locale:e.bbLocalize.getLocale(e.scope),key:e.hiddenOptionKey}),onSelect:function(){e.selectHidden()}},{show:e.showConditionalReleaseMenuOption(),visibility:d.r.Visibility.Restricted,text:e.bbLocalize.translateSync({locale:e.bbLocalize.getLocale(e.scope),key:"components.directives.content-visibility.conditional-availability"}),onSelect:function(){e.selectConditionalRelease()}}],e.selectedVisibilityOption=o.find(e.visibilityOptions,(function(t){return t.visibility===e.scope.content.getVisibilityAsStudent()}))}))},e.$inject=["scope","element","$q","$ngRedux",c.serviceName,l.b,b.d,"$modal",h.e],e}(),g=function(){function e(e){var t=this;this.$injector=e,this.restrict="E",this.scope={content:"=",onblurFunc:"&?",onchangeFunc:"&?",onRestrictedSelectedFunc:"&?",openPanelOnRestricted:"&?",disableRestricted:"&?",validationFunc:"&?",isVisibilitySelectorEnabled:"&?",hasMediumIcon:"=?"},this.template=v,this.link=function(e,i,n){e.contentVisibilitySelector=t.$injector.instantiate(f,{scope:e,element:i})}}return e.$inject=["$injector"],e}();n.module(m,[p.a,h.b]).directive("bbContentVisibilitySelector",["$injector",function(e){return e.instantiate(g)}])},v0wN:function(e,t,i){var n=i("ziER"),o=i("5JeM"),s=new n({id:"icon-medium-groups",use:"icon-medium-groups-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-groups"><g clip-path="url(#icon-medium-groups_clip0)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 23.0644C17.3246 21.1155 14.8704 20 12 20s-5.3246 1.1155-7 3.0644M12 20c2.7614 0 5-2.2386 5-5s-2.2386-5-5-5-5 2.2386-5 5 2.2386 5 5 5zM18.5 8C20.433 8 22 6.433 22 4.5S20.433 1 18.5 1 15 2.567 15 4.5 16.567 8 18.5 8z" /><path d="M23 11s-1-3-4.5-3c-2.1456 0-3.3517 1.1274-3.9639 2M5.5 8C3.567 8 2 6.433 2 4.5S3.567 1 5.5 1 9 2.567 9 4.5 7.433 8 5.5 8zM1 11s1-3 4.5-3c2.1456 0 3.3517 1.1274 3.9639 2" /></g><defs><clipPath id="icon-medium-groups_clip0"><path d="M0 0h24v24H0z" /></clipPath></defs></symbol>'});o.add(s);e.exports=s},vgq2:function(e,t,i){var n=i("ziER"),o=i("5JeM"),s=new n({id:"icon-medium-discussion",use:"icon-medium-discussion-usage",viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-medium-discussion"><path d="M8 21.4025a10.4446 10.4446 0 01-1.75-.8072L1 22l1.4318-5.2034C1.5217 15.2417 1 13.4318 1 11.5 1 5.701 5.701 1 11.5 1c4.5718 0 8.4611 2.9218 9.9025 7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M9 16c0 3.866 3.134 7 7 7 1.3878 0 2.6812-.3803 3.7692-1.0769L23 23l-1.0769-3.2308C22.6197 18.6812 23 17.3878 23 16c0-3.866-3.134-7-7-7s-7 3.134-7 7z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="13" cy="16" r=".5" /><circle cx="16" cy="16" r=".5" /><circle cx="19" cy="16" r=".5" /></symbol>'});o.add(s);e.exports=s},"yCl+":function(e,t,i){var n=i("ziER"),o=i("5JeM"),s=new n({id:"icon-small-discussion",use:"icon-small-discussion-usage",viewBox:"0 0 16 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-small-discussion"><path d="M15 8c0 3.866-3.134 7-7 7a6.983 6.983 0 01-2.528-.4704L1 15l.5-4.3969C1.1775 9.7984 1 8.9199 1 8c0-3.866 3.134-7 7-7s7 3.134 7 7z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="5" cy="8" r=".5" /><circle cx="8" cy="8" r=".5" /><circle cx="11" cy="8" r=".5" /></symbol>'});o.add(s);e.exports=s}}]);